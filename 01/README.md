<!-- doc.py -->
Введение в C++
==============

Языки высокого и низкого уровня
-------------------------------

*Высокоуровневый язык программирования* - язык, нацеленный на *скорость* и *удобство* разработки (удобство программиста)
в том числе за счёт понижения эффективности использования *памяти* и процессорного *времени*.
Приближен к естественному языку.
Основная черта высокоуровневых языков - это *абстракция*, то есть введение смысловых конструкций,
кратко описывающих такие структуры данных и операции над ними,
описания которых на машинном коде (или другом низкоуровневом языке программирования) очень длинны и сложны для понимания.

*Язык низкого уровня* - близок к программированию непосредственно в машинных кодах
(или на ассемблере) используемого реального или виртуального (например, Java, Microsoft .NET) процессора.

Фокус на *скорости* и *эффективности* использования памяти.

*Основные преимущества языков низкого уровня:*
* эффективное использование процессорного времени и памяти.
* часто язык низкого уровня позволяет обратиться к ресурсам, недоступным из языка высокого уровня.
* как правило, размер исполняемого файла готовой программы получается меньше.

История создания языка C, история C++. Перспективы - язык D
-----------------------------------------------------------
* Разработан в 1972 - Деннис Ритчи, Кен Томпсон
* 1978 - Брайан Керниган и Деннис Ритчи опубликовали первую редакцию книги "Язык программирования Си"
* 1983 - Американский национальный институт стандартов (ANSI) сформировал комитет для разработки стандартной спецификации Си
* 1989 - ANSI C. Утверждён "Язык программирования Си" ANSI X3.159-1989.
* 1990 - Стандарт ANSI C был принят с небольшими изменениями Международной организацией по стандартизации (ISO) как ISO/IEC 9899:1990.
* 1999 - Стандарт C99.
* 8 декабря 2011 опубликован новый стандарт для языка Си (ISO/IEC 9899:2011).
* Язык D - http://dlang.org. Примеры на языке D: https://github.com/stden/dlang

Выбор компилятора и IDE
-----------------------
* GCC - GNU Compiler Collection - кроссплатформенный компилятор
* Visual C++ Compiler - колимпилятор под Windows от Microsoft

Установка IDE Code::Blocks. Запуск программы. Отладка
-----------------------------------------------------
* Code::Blocks: http://www.codeblocks.org/downloads/binaries - выбирайте версию вместе с MinGW (например: codeblocks-13.12mingw-setup.exe)

Опции компилятора
-----------------
* *-Wall* - показывать все предупреждения

Программа "Hello world!" на C и на C++. Отличия С и C++
-------------------------------------------------------
* [Hello world C++](/lesson_01/00_first/helloworld.cpp)
* [Hello world C](/lesson_01/00_first/helloworld.c)


Стиль оформления кода программы
-------------------------------

*Зачем?*

Одним из важнейших факторов, влияющих на способность программы к развитию, является лёгкость её *понимания*.
Одним из существенных факторов понимаемости программы, в свою очередь, является информативность исходного текста.
Если исходный текст трудно читать (он написан без соблюдения определенного стиля и системы и представляет собой
"мешанину" операторов и знаков препинания),
то вносить изменения в него очень сложно даже автору.

Рассмотрим ряд требований и рекомендаций, позволяющих выработать хороший стиль оформления программ, повышающий ее информативность.

Типичные рекомендации
---------------------

*1. Допускаются любые нарушения рекомендаций, если это улучшает читаемость*

Основная цель рекомендаций - улучшение читаемости и, следовательно, ясности и лёгкости поддержки,
а также общего качества кода.
Невозможно дать рекомендации на все случаи жизни, поэтому программист должен мыслить гибко.


Ввод и вывод данных (консоль) в C и в C++. Ввод и вывод из текстового файла
---------------------------------------------------------------------------


Литература по C/C++
-------------------
* https://vk.com/cpp_junior_developer - группа ВКонтакте

Пример: https://ideone.com/q9Vglz
Среда разработки в облаке: https://ideone.com


﻿Windows
-------

Visual Studio... Кодировка текста Windows-1251
Консоль в Windows: cp866 - для совместимости с MS-DOS

``` cpp
  setlocale(LC_ALL, "Russian");
```

``` cpp
/* Hello World на C
   Многострочный комментарий...
*/
#include <stdio.h> /* Подключаем библиотеку */
//#include <cstdio> // Для C++
#include <math.h> // C
#include <cmath>  // C++
// Директива препроцессора, вставляющая содержимое файла stdio.h
// #include <stdlib.h> /* ..ещё одну библиотеку */
//#include <iostream> // Для C++

int main() {
  printf("C: Hello world!\n");
  //std::cout << "C++: Hello world!" << std::endl;  // Для C++
  return 0;
}
```

[01_first/helloworld.c](01_first/helloworld.c)

``` cpp
// Hello World на C++
#include <iostream>
#include <stdio.h> // для совместимости
#include <cstdio> // в программе на C++ подключаем C
#include <vector>
// STL - Standart Template Library

using namespace std;

int main() {
  //cout << "C++: Hello world!" << endl;
  std::cout << "C++: Hello world!" << std::endl;
  return 0;
}
```

[01_first/helloworld.cpp](01_first/helloworld.cpp)

``` cpp
#include <iostream>
#include <cstdlib>
```

``` cpp
int x = 1, y = 10;
```

``` cpp
int f() {
  return 1;
}
```

``` cpp
using namespace std; // Пространство имён, чтобы не писать везде std::cin

int main() { // Основная функция
  cout << "Enter two numbers: "; // Выводим на экран
  int a, b; // Объявляем 2 переменные целого типа
  std::cin >> a >> b; // Вводим их с клавиатуры
  std::cout << a << " + " << b << " = " << a + b << std::endl; // Вывод суммы
  system("pause"); // Нажмите любую клавишу...
  return 0; // Программа завершилась удачно, 0 - код возврата
}
```

[01_first/main.cpp](01_first/main.cpp)

``` cpp
  setlocale(LC_ALL, "Russian");
```

[01_first/main_rus.cpp](01_first/main_rus.cpp)

Скрипт для сборки из командной строки Windows
---------------------------------------------
``` bat
@echo Build exe-file:
g++ a.cpp -Wall -O3 -o MyFile.exe
@echo Run file:
MyFile.exe
```

Сборка из командной строки
--------------------------
``` cpp
#include <iostream>

int main() {
  int i = 2 * 3;
  std::cout << "Hello world! " << i << std::endl;
  return 0;
}
```

[02_BuildCmdLine/a.cpp](02_BuildCmdLine/a.cpp)

``` cpp
void main() {
  printf("Hello world!\n");
  return; // 0;
}
```

[02_HelloWorld_C/main.c](02_HelloWorld_C/main.c)

Использование namespace - пространств имён
------------------------------------------
Можно объявить свой cout
``` cpp
namespace my {
int cout = 10;
}

using namespace my;

int main() {
  cout << "cout = " << my::cout << endl;
  return 0;
}
```

[02_MyCout/main.cpp](02_MyCout/main.cpp)

``` cpp
namespace A {
int a;
}

namespace B {
int a;
}
```

``` cpp
int main() {
  A::a = 1;
  B::a = 2;
  // >> - побитовые сдвиг вправо
  // 101111 -> 001011
  // << - побитовые сдвиг влево
  // 00101111 -> 10111100
  int c = 3 + 5 >> 1;
  // 5 >> 1
  // 101 >> 1 -> 10

  int lp = 10 << 2;

  // Логические операции (побитовые)
  // & - И (AND)
  // 0011 & 0101 => 0001
  // | - ИЛИ (OR)
  // 0011 & 0101 => 0111
  //  0 0  -> 0
  //  0 1  -> 1
  //  1 0  -> 1
  //  1 1  -> 1
  // ^ - Исключающее ИЛИ (XOR) - не равно
  // 0011 & 0101 => 0110
  //  0 0  -> 0
  //  0 1  -> 1
  //  1 0  -> 1
  //  1 1  -> 0

  // ~ - Инверсия (NOT)
  // ~01 => 10
  // 3 = 11
  int k = ~1 & 3; // 01 -> 10
  cout << "k = " << k << endl;

  unsigned int kk = ~1;
  SHOW(kk)

  //c = 2, A::a = 4 + A::b;
  cout << "c = " << c << endl;

  int x = 10;
  ++++x++;
  return 0;
}
```

[02_bit_operators/main.cpp](02_bit_operators/main.cpp)

``` cpp
  int a; // "int" - тип переменной, "a" - имя переменной
  cout << "a = ";
  cin >> a;

  cout << "b = ";
  int b;
  cin >> b;

  int a1, a2, a3;

  // * - умножение
  // / - деление
  // % - остаток от деления (взятие по модулю)
  cout << "a + b = " << (a + b) << endl; // В C++ используется endl вместо "\n"
  cout << "a - b = " << (a - b) << endl;
  cout << "a * b = " << (a * b) << endl;
  cout << "a / b = " << (a / b) << endl;
  cout << "a % b = " << (a % b) << endl;

  // 5 / 2 = 2
  // 7 % 4 = 3

  // Пытаемся вызвать несуществующую команду операционной системы
  system("NetTakoiComandy");
  system("pause");
```

[02_int_operations/main.cpp](02_int_operations/main.cpp)

``` cpp
  int a = 3, b = 5;
```

[02_operators_chain/main.cpp](02_operators_chain/main.cpp)

``` cpp
int staticArray[1000];
int staticConsts[3] = {3, 4, 5};
```

``` cpp
int ff() {
  static int count = 0;
}
```

``` cpp
int f() {
  int x = 10; // в стеке
  x++;
  f();
}
```

``` cpp
  int N; // = 100;
  int* p = new int[N];
  p[10] = 1;
  delete[] p;
  //p[10] =
```

[03_HelloWorld_Cpp/main.cpp](03_HelloWorld_Cpp/main.cpp)

``` cpp
  int N = 10;
  int a, b;
  signed int = -5;
  unsigned int = 10;
  short ss = 3;
```

``` cpp
  printf("N = %d\n", N);
  scanf("%d %d", &a, &b);
  /* a -> значение */
  printf("a + b = %d\n", a + b);

  a = b * b;
  printf("a = %d\n", a);
```

[03_OnlyC/main.c](03_OnlyC/main.c)

``` cpp
void f() {
  int x = 1;
}

int main() {
  int a;
  {
    a++;
    int b;
    {
      b++;
      int c;
    }
  }
  cnt = 0;

  for(int i = 0; i < 10; ++i) {
    int x = 1;

    for(int j = 0; j < 10; ++j)
      cnt++;
  }


  return 0;
}
```

[03_names_format/main.cpp](03_names_format/main.cpp)

Операции
--------
[04_types_demo/main.cpp](04_types_demo/main.cpp)

﻿Отличия C и C++ (ссылки, в приведении типов, перегрузка функций)
================================================================

Ссылки:
-------
* После создания ссылки ее нельзя перевести на другой объект; в таких случаях говорят, не может быть **переопределена**. Это часто делают с указателями.
* Ссылки не могут быть null (т.е.указывать в никуда), тогда как указатели - могут; каждая ссылка ссылается на некий объект, вне зависимости от его корректности.
* Ссылки не могут быть неинициализированными. Так как невозможно переинициализировать ссылку, она должна быть инициализирована сразу после создания.
В частности, локальные и глобальные переменные должны быть проинициализированы там же,
где они определены, а ссылки, которые являются данными-членами сущностей класса,
должны быть инициализированы в списке инициализатора конструктора класса.

``` cpp
int& k; // компилятор выдаст сообщение: ошибка: 'k' declared as reference but not initialized
        // ('k' объявлена как ссылка, но не инициализирована)
```

``` cpp
  if(/*Условие*/ 1 )
    cout << "Если условие истинно!" << endl;
  else
    cout << "Если условие ложно!" << endl;

  int aa[MAX_N];  // int aa[10];
```

``` cpp
  if(0) {
    // Сюда мы никогда не попадём
  }

```

``` cpp
  if(1) {
    // Сюда мы попадём всегда
  }

```

[07_if/main.cpp](07_if/main.cpp)

``` cpp
  int N = 254;
  cout << "N = " << N << " = (inverse binary) = ";

  do { // Repeat
    cout << N % 2;
    N /= 2;
  } while(N > 0); // Until

  cout << endl;
```

[15_do_while/main.cpp](15_do_while/main.cpp)

``` cpp
#include <iostream>
#include <clocale>

using namespace std;

int main() {
  // Win1251 и в исходном тексте и в консоли
  setlocale(LC_ALL, "Russian");

  cout << "Программа для вычисления суммы чисел" << endl;
  cout << "Вводите целые числа для суммирования" << endl;
  cout << "Для окончания ввода введите 0" << endl;

  int sum = 0; // Текущее значение суммы

  int num;

  // Цикл с постусловием
  // Аналог repeat until в Delphi
  do {
    // Тело цикла
    cout << "Введите число: ";
    cin >> num;

    if(num != 0)
      sum += num;

  } while(num != 0);  /* Условие продолжения цикла */

  cout << "Сумма: " << sum << endl;

  return 0;
}
```

[15_do_while/main2.cpp](15_do_while/main2.cpp)

``` cpp
template<long long N>
struct bin {
  enum {
    value = (N % 8) + (bin < N / 8 >::value << 1)
  };
};

template<>
struct bin<0> {
  enum { value = 0 };
};

// Macro-processing glue: force the number to be octal to both
// end the recursion chain and make posible more digits
#define binary(n) bin<0##n>::value

// Проверка работы макроса
int main() {
  cout << bin<01000>::value << endl;
  cout << bin<1000>::value << endl;
  cout << binary(01000) << endl;
  cout << binary(1000) << endl;
  return 0;
}
```

[99_binary_constants/main.cpp](99_binary_constants/main.cpp)

``` cpp
// Функция должна вывести на экран
void solve_equation(double a, double b, double c) {
  // TODO: реализовать
  // a = 0, b = 0, c = 0
  // 0*x^2 + 0*x + 0 = 0
  // if   return ... double D...
  // cout << "x1 = " <<... ;   cout << "x2 = " << ...;
  // sqrt - извлечение корня
}
```

``` cpp
  // Коэффициенты квадратного уравнения
  double a, b, c;
  // a*x^2 + b*x + c = 0
  cout << "a = ";
  cin >> a;
  cout << "b = ";
  cin >> b;
  cout << "c = ";
  cin >> c;
  cout << endl;

  // Вызов функции решения квадратного уравнения
  solve_equation(a, b, c);
```

[HomeWork/main.cpp](HomeWork/main.cpp)

Сумма и произведение чисел (использование цикла)
------------------------------------------------
Дано два целых числа:
``` cpp
int from = 1;
int to = 10;

```

Нужно посчитать и вывести сумму:
from + (from + 1) + ... + (to-1) + to = сумма
В случае from = 1, to = 10: 1 + 2 + ... + 10 = сумма
Вывести значение суммы.
Создать файл **sum.cpp**.

Научиться компилировать и запускать его из командной строки.

Создать проект в Code::Blocks и научиться его запускать и посмотреть строки в Code::Blocks компиляции,
выполнить их из командной строки и получить тот же результат.


Изучить строки форматирования
-----------------------------
http://ru.cppreference.com/w/cpp/io/c/fprintf

Запустить пример и посмотреть что выводится, сопоставить строки примера с тем что вы увидите в консоли.



Макросы и константы
-------------------
[template.cpp](template.cpp)


